<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script> <!-- This puts AFrame into the html -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script> <!-- This puts Ar.JS into the html -->
    <script src ="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script> <!-- An attempt for objects to look at the camera-->
    <script src="/libraries/p5.js"></script>
    <!--Three.js is stopping the entire program from working for some reason. Is three.js needed for this project?-->
    <meta charset="UTF-8"> 
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR Testing</title>
</head>

  <script>

    let redVis;
    // let blueVis;
    function setup () {
      redVis = getItem('redVis');
      if (redVis === null) {
      redVis = false;
      document.querySelector('#red-box').setAttribute('visible', false);
      } else if (redVis) {
        alert("Red box start on screen");
        document.querySelector('#red-box').setAttribute('visible', true);
      } else if (!redVis) {
        alert("Red box should not start on screen");
        document.querySelector('#red-box').setAttribute('visible', false);
      } 
    }

    window.onload = function () {
      // sceneEl = document.querySelector('a-scene');
      document.querySelector(".red-box-button").addEventListener("click", function () {
          // here you can change also a-scene or a-entity properties, like
          // changing your 3D model source, size, position and so on
          // or you can just open links, trigger actions...
          if (redVis) {
            alert("Red box should disappear");
            document.querySelector('#red-box').setAttribute('visible', false);
            redVis = false;
            storeItem('redVis', redVis);
          } else if (!redVis) {
            alert("Red box should appear");
            document.querySelector('#red-box').setAttribute('visible', true);
            redVis = true;
            storeItem('redVis', redVis);
          }
        });
      document.querySelector(".blue-box-button")
      .addEventListener("click", function () {
        alert("Spawn the Blue Box")
      });
    };
  </script>

  <style>
    .buttons {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 5em;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10;
    }
  
    .red-box-button {
      padding: 0.25em;
      border-radius: 4px;
      border: none;
      background: red;
      color: black;
      width: 4em;
      height: 2em;
    }

    .blue-box-button {
      padding: 0.25em;
      border-radius: 4px;
      border: none;
      background: blue;
      color: black;
      width: 4em;
      height: 2em;
    }
  </style>

<body style='margin : 0px; overflow: hidden;'>

  <a-scene embedded arjs>
    <a-marker type='pattern' url='/ar-patterns/pattern-HS3.patt'>
      <!-- Creates text, and positions the text, and rotates the text. -->
      <!-- <a-text value="BOO!" position= '-.3 0 .4' rotation='-90 180 0'></a-text> -->

      <!-- Creates an image, potiions the image, and rotates the image. -->
      <!-- <a-image id= "ghost" src="/ar-test-media/GhostKid.gif" look-at="#test" ></a-image> -->

      <!-- By hitting "CTRl+Alt+I" in the live website, you can see a grid to find dimensions -->

      <!-- Paths to the obj and mtl file of Axios-->
      <!-- <a-assets> -->
        <!-- <a-asset-item id= "axim-obj" src="/ar-test-media/chr_knight.obj"></a-asset-item> -->
        <!-- <a-asset-item id= "axim-mtl" src="/ar-test-media/chr_knight.mtl"></a-asset-item> -->
      <!-- </a-assets> -->

      <a-box id="red-box" color="#DB4F40" depth="1" height="1" width="1" position="0, 2, 0" visible="false"></a-box>
      <a-box id="blue-box" color="#496DDE" depth="1" height="1" width="1" position="0, 2, 0" visible="false"></a-box>
      <a-box id="green-box" color="#50DE3E" depth="1" height="1" width="1" position="0, 2, 0" visible="false"></a-box>

      <!-- <a-entity id="axim" obj-model="obj: #axim-obj; mtl: #axim-mtl" position= '0 2 0' scale= '.5 .5 .5'></a-entity> -->

      <!-- Hiro is a default marker for AR targets -->
    </a-marker>

      <!-- These patterns are inserted and represent printed, custom patterns that can be used.-->
      <!-- <a-marker-camera type='pattern' url='/ar-patterns/pattern-HS3.patt'></a-marker-camera> -->
      <!-- <a-marker-camera type='pattern' url='/ar-patterns/pattern-HS2.patt'></a-marker-camera> -->
      <!-- <a-marker-camera type='pattern' url='/ar-patterns/pattern-HS1.patt'></a-marker-camera> -->

  </a-scene>

    <div class="buttons">
      <button class="red-box-button">Red</button>
      <button class="blue-box-button">Blue</button>
    </div>

    <!-- <script src="sketch.js"></script> -->

  </body>

</html>